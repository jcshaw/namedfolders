<?xml version="1.0" encoding="windows-1251"?>

<whatsnew>
<version product_name="Named Folders" version="4.1.0.285" date="?.01.2014"> 
<item type="-">Исправлена проблема с двумя экземплярами FAR, #69. В некоторых случаях при запуске второго экземпляра список
шоткатов был пуст.</item>
<item type="-">Восстановлена возможность показа каталога в меню дисков. Добавлена возможность показывать не только корневые
каталоги, но и вложенные.</item>
</version>

<version product_name="Named Folders" version="4.0.0.284 beta 1" date="29.08.2013"> 
<item type="!">NF 4.X работает только под FAR 3. В FAR 2.X можно использовать NF 3.X</item>
<item type="!">Все ярлыки теперь хранятся не в реестре, а в sqlite.</item>
<item type="!">База ярлыков NF теперь общая для Far x86 и Far x64.</item>
<item type="*">Временные ярлыки упразднены и теперь работают как обычные ярлыки. Т.е. команды cd:+ и cd:: стали эквивалентны.</item>
<item>Если на панели FAR открыто две панели NF, то при изменении данных на одной панели вторая автоматически НЕ обновляется.</item>
</version>

<version product_name="Named Folders" version="3.0.0.259 snapshot" date="10.04.2011"> 
<item type="+">Реализована поддержка cd:shell:abc, где abc - имя known folder.</item>
<item type="*">Команда cd: soft теперь выполняет запуск приложений из отдельного
потока. За счет этого, команда сразу возвращает управление FAR, не дожидаясь,
пока выбранное прложение запустится. Аналогично, открытие каталога программы
в Explorer так же проводится через отдельный поток и не подвешивает FAR.</item>
<item type="+">В команде cd: soft изменен набор клавиш в меню вариантов: для открытия
директории программы в FAR теперь используется Ctrl+Alt+Enter, вместо Shift+Enter.
Кроме того, в это меню добавлено две новые команды. Shift+Enter запускает приложение
без закрытия меню, Shift+Ctrl+Enter - открывает каталог приложения в Explorer без
закрытия меню вариантов.</item>
<item>Команда cs: "abc" не работала без пробела после двоеточия.</item>
</version>

<version product_name="Named Folders" version="3.0.0.258 snapshot" date="3.04.2011"> 
<item type="+">Реализована поддержка Known Folders под Vista/Windows 7.
(см. http://www.sevenforums.com/tutorials/4941-shell-command.html).
Варианта использования - два. Во-первых, можно создать псевдоним,
ссылающийся на ключ в реестре, в котором хранятся Known Folders:
$HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\explorer\\FolderDescriptions
Плагин распознает этот ключ и умеет считывать из него список директорий.
В файл "StdPaths.reg" добавлен стандартный псевдоним "shell", ссылающийся
на этот ключ. Под Vista/Win7 "shell" заменяет устаревшие "stdu" и "stda".
Во-вторых, в псевдонимах можно в качестве имени директории указывать
"shell:abc". Плагин распознает команду "shell:" как запрос на вызов
Known Folders, имя которой удовлетворяет шаблону "*abc*" (issue #55). </item>
<item type="+">Свойства каталога теперь можно редактировать по F4</item>
<item type="+">Реализована поддержка библиотек Windows 7. Добавлено два новых параметра
команд "+lib" и "-lib". Их можно использовать следующим образом:
1) cd::abc +lib - создать псевдоним abc для текущий директории и добавить
текущую директорию в уже существующую библиотеку Win7.
2) cd:-abc -lib - удалить псевдоним abc; удалить директорию, на которую
ссылался псевдоним, из библиотек Win7.
3) cd: +lib - добавить текущую директорию в уже существующую библиотеку Win7.
4) cd: -lib - удалить текущую директорию из библиотек Win7.
Плагин всегда предлагает выбрать требуемую Win7-библиотеку из списка 
стандартных Win7-библиотек, т.е. тех, с которыми работает Windows Explorer.
</item>
<item type="+">В свойства каталога добавлен флаг
"Автоматически предлагать добавлять псевдоним в win7-библиотеку". Если этот
флаг включен, то при добавлении псевдонима в каталог плагин всегда будет
предлагать добавить директорию, на которую псевдоним ссылается, в Win7-библиотеку.
Аналогично, при удалении псевдонима из каталога - предложит удалить директорию
из библиотеки. Параметры +lib/-lib можно не указывать.</item>
<item type="+">В свойства каталога добавлено поле "Win7-библиотека по-умолчанию".
Эта библиотека показывается первой в списке возможных библиотек, когда плагин
предлагает пользователю выбрать Win7-библиотеку.</item>
<item type="+">Паттерн "cs: abc" позволяет задавать имя abc в кавычках и 
использовать в нем пробелы, например: cs: "a b c"</item>
<item type="+">Новый префикс "st:" для запуска программ. Задел на будущей
для тикета #29. Программы теперь можно запускать так: "st:soft" или "st:soft". 
Модификаторы ":" и "+", используемые в "cd: :soft" и "cd: +soft" не
поддерживаются, тут придется придумывать другой синтаксис. Важный момент:
плагин по умолчанию теперь регистрирует два префикса "cd:" и "st:". Но если
вы устанавливаете новую версию плагина поверх старой, то префикс "st:"
автоматом в настройках не пропишется - его необходимо добавлять руками.
</item>
<item type="+">Новое свойство каталога: "показывать в меню дисков". Если
эта галочка включена и в настройках плагина включен флаг "разрешено показывать
каталоги в меню дисков", то плагин будет показывать каталог в меню дисков.
</item>
<item type="+">В настройках флаг "Показывать каталоги в меню дисков"
заменен на "Разрешить показывать каталоги в меню дисков". Если этот флаг
включен, то в меню дисков, помимо строки "Named Folders", появятся
выбранные NF-каталоги - те, в свойствах которых поставлена соответствующая
галочка (issue #8).</item>
</version>

<version product_name="Named Folders" version="3.0.0.256 snapshot" date="12.02.2011"> 
<item type="+">Добавлена возможность использовать негативные маски в путях.
Негативная маска отделяется от основной символом "|". Пример: команда
"cd:pf\*a*|*b*" найдет все поддиректории директории "pf", которые
удовлетворяют маске "*a*" и НЕ удовлетворяют маске "*b*", issue #47</item>
<item type="+">Добавлен новый вариант команды запуска приложений. Команда
"cd: +soft" автоматически копирует путь к текущему файлу в буфер
обмена, issue #52</item>
<item type="+">Команда "cd: soft" теперь позволяет задавать маску "soft" в
кавычках; при этом "soft" может содержать пробелы. Пробелы работают как
логическое И, например: cd: "a b c" - показать приложения, имена которых
содержат "a" И "b" И "c", issue #52</item>
<item type="-">Не работали ярлыки, ссылающиеся ни на директории, а на файлы.
Issue #49</item>
<item type="-">Исправлена проблема с переходом в корень диска из поддиректории
по команде "cd:.\..\", issue #53</item>
<item type="-">В меню вариантов шоткатов не работал режим 
"псевдонимы-значения".</item>
<item type="*">В меню вариантов расстояние между колонками сделано равным
двум пробелам, вместо одного.</item>
<item type="-">В меню вариантов колонки форматировались неверно в случае
особо длинных имен, issue #54</item>
<item type="+">Для команды "cd: soft" в меню вариантов введен новый режим
отображения результатов - "программа-каталог", issue #54</item>
<item type="*">В меню вариантов для переключения режимов отображения
теперь используются клавиши F5-F9. Клавиши F1-F4 зарезервированы для прочих
нужд.</item>
<item type="+">В меню вариантов добавлена возможность выбрать колонку,
по которой сортировать результаты. Комбинации клавиш Ctrl+F5, Ctrl+F6 и
Ctrl+F7 задают, соответственно, сортировку по первой, второй и третьей
колонке. Комбинация Ctrl+F12 позволяет отключить сортировку - результаты
будут выводиться в несортированном виде. Номер колонки, по которой ведется
сортировки, отображается в круглых скобочках, рядом с количеством найденных
вариантов. 0 - означает, что режим сортировки отключен.</item>
<item type="*">Существенно ускорена работа фильтра в меню вариантов при
большом количестве результатов.</item>
<item type="+">Добавлена возможность использования плагина в диалогах FAR.
Достаточно открыть диалог, установить курсор в строку ввода, ввести
требуемую команду (можно без префикса "cd:"), нажать F11 и в появившемся
списке плагинов выбрать Named Folders. Плагин выполнит введенную команду и
поместит найденную директорию обратно в строку ввода, полностью заменив ее
текущее содержание. Если плагин найдет несколько подходящих директорий, то
покажет меню вариантов - как обычно. Если ничего не найдет, строка ввода не
будет изменена. Поддерживаются все команды открытия шоткатов и директорий,
кроме команды "cd: soft". Любые команды создания и удаления
игнорируются.</item>
</version>

<version product_name="Named Folders" version="3.0.0.254 release" date="22.01.2011"> 
<item type="*">Незначительные правки кода.</item>
<item type="*">Доработан хелп.</item>
</version>

<version product_name="Named Folders" version="3.0.0.253 RC2" date="16.01.2011"> 
<item type="!">Введены новые метасимволы "\**:N" и "\..*:N", позволяющие
ограничивать глубину поиска на N уровней вниз и вверх. Метасимволы "\**" и
"\..*" по-прежнему используются для поиска без ограничения уровня
вложенности. Если включить опцию "Краткие команды при поиске", то вместо
этих метасимволов можно использовать последовательности из N слешей и N+1
точки. Подробности прописаны в вики
http://code.google.com/p/namedfolders/wiki/WIkiRelatedPathsRu</item>
<item type="-">Реализована команда перехода в сетевую директорию
"cd:\\network_path". В предыдущих билдах NF3 она не работал в принципе.</item>
<item type="-">Нажатие Esc в процессе выполнения NF-команды приводило к отмене 
команды без показа найденных к моменту отмены результатов. Теперь результаты
показываются.</item>
<item type="-">Не работал переход в сетевые директории с точкой в имени,
например "\\computer\abc.cde"</item>
<item type="-">Команды "cd:%var%" и "cd:%var" в отдельных случаях 
не работали под Windows XP.</item>
<item type="+">Команда "cd:path" теперь позволяет задавать path в кавычках,
например: cd:"c:\temp"</item>
<item type="+">Команды "cd:--f" и "cd:--df" теперь поддерживают возможность
указывать путь напрямую, без алиаса. Например, "cd:--f c:\temp\**". Если 
путь содержит пробелы, то его необходимо заключить в кавычки. Пример:
cd:--df "c:\program files\**:2\*diz"</item>
<item type="*">Доработан хелп</item>
</version>

<version product_name="Named Folders" version="3.0.0.249 RC1" date="7.01.2011"> 
<item type="*">Команды прямого поиска теперь используют технологию 
обработки относительных путей, т.е. полностью поддерживаются метасимволы
"\**", "..*", "\*", "\..". Команды "cd:z:" и "cd:z:\" обрабатываются как 
"cd:z:\*"</item>
<item type="-">Команда "cd:a/" создавала каталог. Теперь каталог не
создается. Панель с каталогом открывается только если каталог уже существует, 
см #38</item>
<item type="+">Реализованы команды неявного создания шоткатов, ссылающихся
на две панели сразу: "cd:::", "cd::+", "cd:::catalog/", "cd::+catalog/", см
#38</item>
<item type="-">Команда "cd::a/" не создавала каталог "a", если имя каталога
было однобуквенным, см. #38</item>
<item type="-">Нажатие Ctrl+'/' на панели приводило к созданию левых
каталогов, #39. Теперь - открывает родительскую директорию и устанавливает
курсор на "..". Ctrl+PageUp так же открывает родительскую директорию, но
курсор устанавливается на предыдущий каталог, см. #41.</item>
<item type="*">Команды неявного создания плагинов теперь позволяют
указывать каталог. См. #38. Пример: команда "cd::catalog1/catalog2/"
создаст псевдоним с неявным именем, если каталог catalog1/catalog2
существует. Если же каталог не существует, то команда будет трактоваться
как команда создания каталога и псевдоним создан не будет.</item>
<item type="*">Команда cd::a/b теперь предлагает создать каталог "a", если
такого каталога нет, а затем создать в нем псевдоним "b". Ранее команда не
срабатывала, если каталог "a" не существовал. См. #20</item>
<item type="-">Исправлено множество ошибок, см. #7, #40, #38.</item>
</version>

<version product_name="Named Folders" version="3.0.0.245 beta" date="25.12.2010"> 
<group title="Ключевые изменения">
<item type="!">Плагин переведен на Far API 2.0 и стал юникодным.</item>	
<item type="!">Выпущена 64-битная версия плагина. Теперь плагин доступен в
двух вариантах: для x86 и x64.</item>
<item type="!">Для плагина создан open source проект на google code:
http://code.google.com/p/namedfolders/. Сюда можно сообщать об ошибках и
пожеланиях по развитию функциональности. Здесь же можно скачать последний
снапшот плагина (релизы будут попрежнему выкладываться на PlugRing).</item>
<item type="!">При переходе с NF2 на NF3 русские алиасы превращаются в 
крокозябрики из-за ошибки в NF2. К сожалению, придется их пересоздать.
Вариант - сохранить список ярлыков из реестра в файл, поменять кодироку и 
затем загнать обратно в реестр.</item>
</group>
<group title="Исправления">
<item type="-">Исправлен запуск 64-битных приложений из 32-битной версии плагина
(#6, http://code.google.com/p/namedfolders/issues/detail?id=6)</item>	
<item type="*">Изменена процедура удаления двойных префиксов. Ранее, 
команда "cD:ab:command" рассматривалась плагином как "cd:command", а 
команда "cd:cd:cd:command" не работала. Теперь плагин игнорирует все
префиксы, кроме последнего, так что команда "ab:cd:ef:command" рассматривается
как "ef:command".</item>
<item type="*">Изменен синтаксис для поиска в локальных директориях. 
Теперь команду "cd:alias.." (искать на один уровень выше, чем директория,
на которую указывает alias) можно записывать более традиционно - "cd:alias\.."
Одновременно поддерживаются и старый ("..") и новый ("\..") синтаксис.</item>
<item type="+">Добавлена возможность редактировать шоткаты из меню выбора
вариантов. Редактирование вызывается клавишей F4. В связи с этим, изменена
клавиша переключения на режим просмотра "алиасы и значения" с F4 на F7.</item>
<item type="+">Изменен макрос FastPrefix. Нажатие ':' в командной строке
приводит, как и ранее, к вводу "cd:". Но: если была включена русская
раскладка, то после нажатия ':' раскладка уже английская. Т.е. не важно,
какая раскладка у вас была включена - после нажатия ':' вы можете печатать
команду NF на английском языке.</item>
<item type="+">Меню вариантов теперь показывает общее количество элементов
в меню</item>
<item type="!">Полностью переделана технология обработки относительных путей.
Изменены метасимволы поиска без ограничения уровня вложенности: вместо
"\*\" и "\.\" теперь используются "\**" и "\..*". Концевой слеш теперь
всегда игнорируется. Для поиска вверх теперь используется
последовательность "\.." вместо последовательности точек. Последовательности
слешей и точке можно по прежнему использовать, но возможность эта сделана
отключаемой (параметр "Краткие команды при поиске").
Подробности прописаны в вики
http://code.google.com/p/namedfolders/wiki/WIkiRelatedPathsRu 
</item>
<item type="*">Теперь, если по команде "cd:a\path" плагину не удалось
найти директории подходящей под шаблон "path", он выводит стандартный
запрос - "перейти в ближайшую директорию?". Ранее запрос не выводился,
плагин автоматически переходил в директорию связанную с псевдонимом "a".
Запрос можно отключить в настройках.
</item>
</group>

<group title="Настройки плагина">
<item type="*">Убрана возможность задавать клавиша быстрого запуска для 
плагина в меню дисков. После выхода FAR 2.0 build 1692 она стала 
попросту неактуальной. Issue #15</item>
<item type="+">Добавлен флаг "Показывать каталоги в меню дисков". Если
этот флаг включен, то в меню дисков, помимо строки "Named Folders", появятся
все NF-каталоги. Это экспериментальная реализация Issue #8.</item>
<item type="+">Добавлен флаг "Краткие команды в глубоком поиске". Если
этот флаг включен, то плагин позволит использовать в относительных 
путях сокращенный синтаксис команд. Например, "\\\" вместо "\*\*\*",
"...." вместо "\.\." и "cd:a.." вместо "cd:a\..". Подробности в вики 
WIkiRelatedPathsRu. 
</item>
</group>
</version>

</whatsnew>